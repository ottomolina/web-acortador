import{a as i,b as f,c as s,d as a,e as l,f as m,g as p,i as c}from"./chunk-36S5GJB5.js";import{b as d}from"./chunk-MRXBVRUT.js";import{Z as u,ba as n}from"./chunk-4MXV6QT5.js";var L=class o{constructor(t,r){this.fire=t;this.auth=r}getData(){let{id:t}=this.auth.user,r=[a("uid","==",t)],e=s(i(this.fire,"links"),...r);return c(e,{idField:"id"})}add(t){let{id:r}=this.auth.user;t.uid=r;let e=i(this.fire,"links");return m(e,t)}updateState(t,r){let e=f(this.fire,`links/${t}`);return l(e,{state:r})}getUrlByLinkCorto(t){let r=[a("urlShorten","==",t)],e=s(i(this.fire,"links"),...r);return c(e,{idField:"id"})}static \u0275fac=function(r){return new(r||o)(n(p),n(d))};static \u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})};var b=class o{constructor(t,r){this.fire=t;this.auth=r}createCounter(t){let{id:r}=this.auth.user,e={linkId:t,uid:r,datetime:[]},C=i(this.fire,"counter");return m(C,e)}getCounterByLinkId(t){let r=[a("linkId","==",t)],e=s(i(this.fire,"counter"),...r);return c(e,{idField:"id"})}getListCounterByUid(){let{id:t}=this.auth.user,r=[a("uid","==",t)],e=s(i(this.fire,"counter"),...r);return c(e,{idField:"id"})}incrementCounter(t){let{id:r,datetime:e}=t,C=f(this.fire,`counter/${r}`);return l(C,{datetime:e})}static \u0275fac=function(r){return new(r||o)(n(p),n(d))};static \u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})};export{L as a,b};
